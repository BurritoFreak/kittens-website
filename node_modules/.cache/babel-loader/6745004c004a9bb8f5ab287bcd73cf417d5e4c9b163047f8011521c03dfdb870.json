{"ast":null,"code":"import canPlaySimplePlayer from './blocks/react-simple-player/canPlay';\nimport canPlay from './blocks/react-player/canPlay';\nimport canPlayPdf from './blocks/pdf/canPlay';\nvar routeTwitter = function (blocks, _a) {\n  var pathname = _a.pathname;\n  var steps = pathname.split('/');\n  if (!steps.length) return undefined;\n  return [blocks.tweet, steps[steps.length - 1]];\n};\nvar routeYouTube = function (blocks, parsed) {\n  var searchMatch = parsed.search.match(/v=([^\\&]+)(&|$)/);\n  var urlMatch = parsed.pathname.replace('/', '');\n  if (searchMatch) {\n    return [blocks.youtube, searchMatch[1]];\n  } else if (urlMatch) {\n    return [blocks.youtube, urlMatch];\n  } else {\n    return undefined;\n  }\n};\nvar routeJsFiddle = function (blocks, _a) {\n  var pathname = _a.pathname;\n  var steps = pathname.split('/');\n  if (steps.length < 2) return undefined;\n  return [blocks.jsfiddle, steps[1]];\n};\nvar routeImgur = function (blocks, _a) {\n  var url = _a.url;\n  var matches = url.match(/\\/(?:a|gallery)\\/([^\\/]+)(?:\\/|$)/);\n  if (!matches) return;\n  return [blocks.imgur, matches[1]];\n};\nvar routeGist = function (blocks, _a) {\n  var pathname = _a.pathname;\n  var steps = pathname.split('/');\n  if (steps.length < 3) return undefined;\n  return [blocks.gist, steps[2]];\n};\nvar routeReplit = function (blocks, _a) {\n  var pathname = _a.pathname;\n  var steps = pathname.split('/');\n  if (steps.length !== 3) return undefined;\n  var id = \"\".concat(steps[1], \"/\").concat(steps[2]);\n  return [blocks.replit, id];\n};\nvar routeGoogle = function (blocks, _a) {\n  var pathname = _a.pathname;\n  var steps = pathname.split('/');\n  if (steps[1] === 'maps' && steps.length >= 3) {\n    return [blocks.gmaps, ''];\n  }\n  return;\n};\nvar routeGfycat = function (blocks, _a) {\n  var pathname = _a.pathname;\n  var steps = pathname.split('/');\n  if (steps.length < 2) return undefined;\n  if (!steps[1] || typeof steps[1] !== 'string') return undefined;\n  var slugs = steps[1].split('-');\n  return [blocks.gfycat, slugs[0]];\n};\nvar routeToBlock = function (blocks, parsed) {\n  var hostname = parsed.hostname,\n    url = parsed.url;\n  switch (hostname) {\n    case 'twitter.com':\n      return routeTwitter(blocks, parsed);\n    case 'www.youtube.com':\n    case 'youtu.be':\n    case 'youtube.com':\n      return routeYouTube(blocks, parsed);\n    case 'soundcloud.com':\n      return [blocks.soundcloud, ''];\n    case 'jsfiddle.net':\n      return routeJsFiddle(blocks, parsed);\n    case 'imgur.com':\n      return routeImgur(blocks, parsed);\n    case 'www.instagram.com':\n      return [blocks.instagram, ''];\n    case 'gist.github.com':\n      return routeGist(blocks, parsed);\n    case 'repl.it':\n      return routeReplit(blocks, parsed);\n    case 'www.figma.com':\n      return [blocks.figma, ''];\n    case 'www.google.com':\n      return routeGoogle(blocks, parsed);\n    case 'gfycat.com':\n      return routeGfycat(blocks, parsed);\n    case 'dropbox.com':\n    case 'www.dropbox.com':\n      return [blocks.dropbox, ''];\n    case 'codesandbox.io':\n      if (url.includes('codesandbox.io/embed/')) return [blocks.codesandbox, ''];\n      return undefined;\n    default:\n      if (canPlayPdf(url)) {\n        return [blocks.pdf, ''];\n      } else if (canPlaySimplePlayer(url)) {\n        return [blocks.simplePlayer, ''];\n      } else if (canPlay(url)) {\n        return [blocks.reactPlayer, ''];\n      } else {\n        return undefined;\n      }\n  }\n};\nexport default routeToBlock;","map":{"version":3,"names":["canPlaySimplePlayer","canPlay","canPlayPdf","routeTwitter","blocks","_a","pathname","steps","split","length","undefined","tweet","routeYouTube","parsed","searchMatch","search","match","urlMatch","replace","youtube","routeJsFiddle","jsfiddle","routeImgur","url","matches","imgur","routeGist","gist","routeReplit","id","concat","replit","routeGoogle","gmaps","routeGfycat","slugs","gfycat","routeToBlock","hostname","soundcloud","instagram","figma","dropbox","includes","codesandbox","pdf","simplePlayer","reactPlayer"],"sources":["../src/routeToBlock.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}