{"ast":null,"code":"import { __extends } from \"tslib\";\nimport * as React from 'react';\nimport defaultRouter from './routeToBlock';\nimport defaultRender from './renderer';\nvar IS_BROWSER = typeof window === 'object';\nvar defaultBlocks = {\n  dropbox: React.lazy(function () {\n    return import('./blocks/dropbox');\n  }),\n  figma: React.lazy(function () {\n    return import('./blocks/figma');\n  }),\n  gfycat: React.lazy(function () {\n    return import('./blocks/gfycat');\n  }),\n  gist: React.lazy(function () {\n    return import('./blocks/gist');\n  }),\n  gmaps: React.lazy(function () {\n    return import('./blocks/gmaps');\n  }),\n  imgur: React.lazy(function () {\n    return import('./blocks/imgur');\n  }),\n  instagram: React.lazy(function () {\n    return import('./blocks/instagram');\n  }),\n  jsfiddle: React.lazy(function () {\n    return import('./blocks/jsfiddle');\n  }),\n  pdf: React.lazy(function () {\n    return import('./blocks/pdf');\n  }),\n  reactPlayer: React.lazy(function () {\n    return import('./blocks/react-player');\n  }),\n  replit: React.lazy(function () {\n    return import('./blocks/replit');\n  }),\n  simplePlayer: React.lazy(function () {\n    return import('./blocks/react-simple-player');\n  }),\n  soundcloud: React.lazy(function () {\n    return import('./blocks/soundcloud');\n  }),\n  tweet: React.lazy(function () {\n    return import('./blocks/tweet');\n  }),\n  youtube: React.lazy(function () {\n    return import('./blocks/youtube');\n  }),\n  codesandbox: React.lazy(function () {\n    return import('./blocks/codesandbox');\n  })\n};\nvar renderNull = function () {\n  return null;\n};\nvar renderWrap = function (children) {\n  return children;\n};\nexport var ReactEmbed = function (_super) {\n  __extends(ReactEmbed, _super);\n  function ReactEmbed() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.state = {};\n    return _this;\n  }\n  ReactEmbed.getDerivedStateFromProps = function (props) {\n    if (!IS_BROWSER) return null;\n    if (typeof props.url === 'string') {\n      try {\n        var url = new URL(props.url);\n        var hostname = url.hostname,\n          pathname = url.pathname,\n          search = url.search,\n          hash = url.hash;\n        return {\n          url: {\n            url: props.url,\n            hostname: hostname,\n            pathname: pathname,\n            search: search,\n            hash: hash\n          }\n        };\n      } catch (error) {\n        return {\n          error: error\n        };\n      }\n    } else {\n      return undefined;\n    }\n  };\n  ReactEmbed.getDerivedStateFromError = function (error) {\n    return {\n      error: error\n    };\n  };\n  ReactEmbed.prototype.render = function () {\n    var _a, _b;\n    if (!IS_BROWSER) return null;\n    var props = (_a = this, _a.props),\n      state = _a.state;\n    if (state.error) return props.renderVoid(props, state, state.error);\n    var result;\n    try {\n      result = props.router(props.blocks, state.url);\n    } catch (error) {\n      console.error('Could not route block:', error);\n      return props.renderVoid(props, state, error);\n    }\n    if (!result || !result[0]) return props.renderVoid(props, state);\n    var Block = (_b = result, _b[0]),\n      id = _b[1];\n    return props.render(Block, id, props, state);\n  };\n  ReactEmbed.defaultProps = {\n    width: typeof window === 'object' ? window.innerWidth : 0,\n    isDark: false,\n    blocks: defaultBlocks,\n    router: defaultRouter,\n    render: defaultRender,\n    renderVoid: renderNull,\n    renderWrap: renderWrap\n  };\n  return ReactEmbed;\n}(React.PureComponent);\nexport default ReactEmbed;","map":{"version":3,"names":["React","defaultRouter","defaultRender","IS_BROWSER","window","defaultBlocks","dropbox","lazy","figma","gfycat","gist","gmaps","imgur","instagram","jsfiddle","pdf","reactPlayer","replit","simplePlayer","soundcloud","tweet","youtube","codesandbox","renderNull","renderWrap","children","ReactEmbed","_super","__extends","_this","apply","arguments","state","getDerivedStateFromProps","props","url","URL","hostname","pathname","search","hash","error","undefined","getDerivedStateFromError","prototype","render","_a","renderVoid","result","router","blocks","console","Block","_b","id","defaultProps","width","innerWidth","isDark","PureComponent"],"sources":["../src/ReactEmbed.tsx"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}